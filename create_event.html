<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>All Event</title>
    <style>
      * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI';
            /* font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif; */
            background-color: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        #formInput {
            background-color: #fff;
            padding: 40px;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(255, 105, 180, 0.2);
            max-width: 500px;
            width: 100%;
        }

        #formInput::before {
            content: 'Create New Event';
            display: block;
            font-size: 28px;
            font-weight: 700;
            color: #000;
            margin-bottom: 30px;
            text-align: center;
        }

        input[type="text"],
        input[type="email"],
        input[type="date"],
        textarea {
            width: 100%;
            padding: 14px 16px;
            margin-bottom: 16px;
            border: 2px solid #000;
            border-radius: 8px;
            font-size: 15px;
            font-family: inherit;
            transition: all 0.3s ease;
            background-color: #fff;
        }

        input[type="text"]:focus,
        input[type="email"]:focus,
        input[type="date"]:focus,
        textarea:focus {
            outline: none;
            border-color: #ff69b4;
            box-shadow: 0 0 0 3px rgba(255, 105, 180, 0.1);
        }

        input[type="date"] {
            color: #333;
        }

        textarea {
            min-height: 120px;
            resize: vertical;
        }

        input::placeholder,
        textarea::placeholder {
            color: #999;
        }

        label[for="isdone"] {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            font-size: 15px;
            color: #000;
            cursor: pointer;
            user-select: none;
        }

        input[type="checkbox"] {
            width: 20px;
            height: 20px;
            margin-left: 12px;
            cursor: pointer;
            accent-color: #ff69b4;
        }

        input[type="submit"] {
            width: 100%;
            padding: 16px;
            background-color: #ff69b4;
            color: #fff;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        input[type="submit"]:hover {
            background-color: #ff1493;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(255, 105, 180, 0.3);
        }

        input[type="submit"]:active {
            transform: translateY(0);
        }

        @media (max-width: 600px) {
            #formInput {
                padding: 30px 20px;
            }

            #formInput::before {
                font-size: 24px;
            }
        }
      
      
    </style>
</head>
<body>
    <form action="" id="formInput" >
        <input type="text" placeholder="Name" name="name" required>
        <input type="email" placeholder="Email Address" name="email" required>
        <input type="text" placeholder="Phone no" name="phone" required>
        <input type="text" placeholder="Company" name="company" required>
        <input type="text" placeholder="Location" name="location" required>
        <input type="date" name="date" required>
        <input type="text" placeholder="Host" name="host" required>
        <input type="text" placeholder="Image URL" name="image" required>
        <textarea name="description" placeholder="Description"></textarea>
        <label for="isdone">Event has been hosted?
          <input type="checkbox" name="isdone">
        </label>
        <span class="warning"></span>
        <input type="submit" id="submit" value="Create Event">
    </form>
</body>
<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
  import { getFirestore, collection, getDocs, doc, getDoc, addDoc, updateDoc } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  const firebaseConfig = {
    apiKey: "AIzaSyCPsaTnEv7jA_kGv0M-4YqsYkbBDh1q7GU",
    authDomain: "event-management-system-2573b.firebaseapp.com",
    databaseURL: "https://event-management-system-2573b-default-rtdb.firebaseio.com",
    projectId: "event-management-system-2573b",
    storageBucket: "event-management-system-2573b.firebasestorage.app",
    messagingSenderId: "559563898888",
    appId: "1:559563898888:web:6f3fed6417b572b1ef11bd"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app)
  const colRef = collection(db, "allEvent")

  async function addEvent(event){
    event.preventDefault()
    if(formInput.name.value == "" || formInput.phone.value == "" || formInput.email.value == "" ||formInput.company.value == "" || formInput.description.value == "" || formInput.date.value == "" || formInput.location.value == "" || formInput.image.value == "" || formInput.host.value == ""){
      let warning = document.querySelector(".warning")
      warning.textContent = "Fill in all input";
      warning.style.color = "red";
      return
    }
    let newEvent ={
      name: formInput.name.value,
      phone: formInput.phone.value,
      email: formInput.email.value,
      company: formInput.company.value,
      description: formInput.description.value,
      date: formInput.date.value,
      location: formInput.location.value,
      image: formInput.image.value,
      host: formInput.host.value,
      isdone: formInput.isdone.checked,
      dateCreated: new Date()
    }
    console.log(newEvent);
    try {
      let docRef = addDoc(colRef, newEvent)
      clearInput()
      alert(`Event ${newEvent.name} added successfully.`)
      
    } catch (error) {
      console.log(error.message);
    }
  }

  function clearInput(){
  document.querySelector("textarea").value = ""
  document.querySelector("input[type='checkbox']").checked = false
  let inputs = document.querySelectorAll("input");
  inputs.forEach(input => {input.type == "submit" || input.type == "button"? input.value: input.value = ""})
}

  document.getElementById("submit").addEventListener("click", addEvent)

</script>
</html>